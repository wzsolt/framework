{% import "menu-elements" ~ constant('TWIG_FILE_EXTENSION') as element %}
<ul class="list-unstyled topnav-menu float-end mb-0">
    <li class="dropdown notification-list topbar-dropdown">
        <a class="nav-link dropdown-toggle waves-effect waves-light" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
            <i class="fa-light fa-bell noti-icon" data-bs-toggle="tooltip" title="{{ _('LBL_NOTIFICATIONS') }}"></i>
            <span class="badge bg-danger rounded-circle noti-icon-badge notification-badge{% if notifications.count == 0 %} d-none{% endif %}">{{ notifications.count }}</span>
        </a>
        <div class="dropdown-menu dropdown-menu-end dropdown-lg">
            <div class="dropdown-item noti-title">
                <h5 class="m-0">
                    <span class="float-end">
                        {% if notifications.count > 0 %}
                            <a href="javascript:;" class="text-dark btn-view-notifications me-2" data-bs-toggle="tooltip" title="{{ _('LBL_MARK_AS_VIEWED') }}">
                            <i class="fa-light fa-eye"></i>
                        </a>
                        {% endif %}

                        {% if notifications.items|length > 0 %}
                            <a href="javascript:;" class="text-dark btn-clear-notification me-2" data-bs-toggle="tooltip" title="{{ _('LBL_CLEAR_NOTIFICATIONS') }}">
                            <i class="fa-light fa-trash"></i>
                        </a>
                        {% endif %}
                        <a href="/my-profile/?tab=notifications" class="text-dark" data-bs-toggle="tooltip" title="{{ _('LBL_NOTIFICATION_SETTINGS') }}">
                            <i class="fa-light fa-gear"></i>
                        </a>
                    </span>
                    {{ _('LBL_NOTIFICATIONS') }}
                </h5>
            </div>

            <div class="noti-scroll notification-items" data-simplebar>
                {% if notifications.items %}
                    {% for nid, notification in notifications.items %}
                        <a href="javascript:;" data-url="{{ notification.url }}" data-id="{{ nid }}" data-level="{{ notification.level }}" class="dropdown-item notify-item btn-notification{% if not notification.viewed %} active notification-unseen{% endif %}">
                            <div class="notify-icon{% if notification.level %} bg-soft-{{ notification.level }} text-{{ notification.level }}{% else %} bg-soft-primary text-primary{% endif %}">
                                {% if notification.icon %}
                                    <i class="{{ notification.icon }}"></i>
                                {% else %}
                                    <i class="fa-solid fa-comment-exclamation"></i>
                                {% endif %}
                            </div>
                            <p class="notify-details" data-bs-toggle="tooltip" title="{{ notification.text }}">
                                {{ notification.text }}
                                <small class="text-muted">{{ _date(notification.created, 5) }}</small>
                            </p>
                        </a>
                    {% endfor %}
                {% else %}
                    <div class="notify-item text-muted small">
                        {{ _('LBL_NO_NEW_NOTIFICATION') }}
                    </div>
                {% endif %}
            </div>
        </div>
    </li>

    <li class="dropdown notification-list topbar-dropdown">
        <a class="nav-link dropdown-toggle nav-user me-0 waves-effect waves-light" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
            <img src="{{ user.getProfileImage }}" alt="user-image" class="rounded-circle border-1 border-light user-profile-img">
            <span class="pro-user-name ms-1">
                {{ user.getName }} <i class="mdi mdi-chevron-down"></i>
            </span>
        </a>
        <div class="dropdown-menu dropdown-menu-end profile-dropdown ">
            <div class="dropdown-header noti-title">
                <h6 class="text-overflow m-0">{{ _('LBL_WELCOME', user.getFirstName) }}</h6>
            </div>

            {% for menuItem in menuHeader %}
                {{ element.headerMenu(menuItem) }}
            {% endfor %}

            <div class="dropdown-divider"></div>

            <a href="/logout/" class="dropdown-item notify-item">
                <i class="ri-logout-box-line"></i>
                <span>{{ _('LBL_LOGOUT') }}</span>
            </a>

        </div>
    </li>
</ul>

<!-- LOGO -->
{% include 'logo.twig' %}

<ul class="list-unstyled topnav-menu topnav-menu-left m-0">
    <li>
        <button class="button-menu-mobile waves-effect waves-light">
            <i class="fe-menu"></i>
        </button>
    </li>
    <li>
        <a class="navbar-toggle nav-link" data-bs-toggle="collapse" data-bs-target="#topnav-menu-content">
            <div class="lines">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </a>
    </li>
</ul>

<div class="clearfix"></div>